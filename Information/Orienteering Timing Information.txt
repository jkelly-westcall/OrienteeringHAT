Orienteering Timing System

The Orienteering Timing System consists of two parts the O-Server and the E-Punch (Electronic Punch Card).  The E-Punch uses a Raspberry PI Zero W and the O-HAT with a Lithium Ion battery.


E-Punch

The E-Punch is a small handheld device.  At a control the E-Punch is held next to the Smart Card that is hanging from the Control bag.  The E-Punch will beep, and the green LED will flash.  This is to tell the participant that the E-Punch has read the Smart Card and the Control data has been read.  The participant continues to other controls.  At the finish the finish control is read and then the E-Punch is handed to a official.  

The Upload Command Smart Card is read by the E-Punch.  The E-Punch uploads all its control data to the O-Server.  This command card turns on the E-Punch WIFI and transfers the control data to the O-Sever.  There is also a Command card to clear the E-Punch of all its data from an event.  The Health Command card is used to check the Lithium Ion battery charge level and that event control memory is erased and also to test other E-Punch information.  

The Command cards are the only UI (User Interface) to the E-Punch during an Orienteering event.  During system debugging the USB port is used and SSH can also be used.

The E-Punch has an On/Off switch.  The E-Punch is normally Off.  When and E-Punch is handed to a participate a Health check is run.  The green LED will come on if the Health check is passed. 

The red LED is on when charging (USB or Power port plugged into a power source) and will go off when the E-Punch battery is charged.


O-Server

The O-Server WIFI is always on.  The O-Server accepts the E-Punch data and put it into a data base.  The data is analyzed for total course time and time on each leg.  For a Score-O event the total score for all the controls reached is calculated.  The Raspberry Pi then arranges the data base to place the finishers in order from first to last.  The information is displayed on a HDMI display.  The participants can watch the display to see their finish order as the display scrolls thru all the participants.

The O-Server uses a Raspberry Pi 3.  The Raspberry Pi 3 is connected to a laptop using the USB port.  Power and commands are sent thru this port.

Normally no commands are needed to be sent to the O-Server. The O-Server can run an event with no intervention.  To initially write to the Control Smart Cards commands are sent to the O-Server. The O-Server then talks to an E-Punch to write data on a Smart Card.



